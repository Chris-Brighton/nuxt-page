(window.webpackJsonp=window.webpackJsonp||[]).push([[28,7],{469:function(e,t,r){var content=r(486);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(22).default)("825fc7e0",content,!0,{sourceMap:!1})},485:function(e,t,r){"use strict";r(469)},486:function(e,t,r){var n=r(21)(!1);n.push([e.i,".data-table-custom p{margin:0}.v-data-table-header__icon{color:var(--v-primary) !important;margin-left:2px}.table-delete-item{width:36px !important;min-width:36px !important}.custom-th:hover{color:var(--v-primary) !important}",""]),e.exports=n},492:function(e,t,r){"use strict";r.r(t);var n=r(426),l=r(521),o=r(441),c=r(603),d=r(531),f=r(471),h=r(422),v=(r(283),r(44),r(58),r(19)),m=(r(89),r(29),r(158),r(5),{name:"DataTable",props:{headers:{type:Array,required:!0},service:{type:String,required:!0},update:{type:String,required:!0},showDelete:{type:Boolean,default:!0}},data:function(){return{rows:[],total:0,loading:!1,offset:0,limit:20,showDeleteModal:!1,header:this.showDelete?this.headers.concat([{value:"delete",sortable:!1}]):this.headers}},watch:{headers:function(e,t){JSON.stringify(e)!==JSON.stringify(t)&&(this.showDelete&&e.push({value:"delete",sortable:!1}),this.header=e)}},mounted:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetch();case 2:case"end":return t.stop()}}),t)})))()},methods:{cellStyle:function(e,t){var style={};return e&&"string"==typeof e&&(style.minWidth=e),e&&"number"==typeof e&&(style.minWidth="".concat(e,"px")),t&&"string"==typeof t&&(style.maxWidth=t),t&&"number"==typeof t&&(style.maxWidth="".concat(t,"px")),style},sortIcon:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t?"mdi-arrow-".concat(r?"up":"down","-bold"):"mdi-format-vertical-align-center"},goto:function(e){this.$router.push(this.update+"/"+e)},fetch:function(e){var t=this;return Object(v.a)(regeneratorRuntime.mark((function r(){var n,l,o,c,d,f,h,i,v,m,x,_,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.limit,o=[],c=[],e&&(n=e.itemsPerPage,l=e.page,o=e.sortBy,c=e.sortDesc),t.loading=!0,d=t.offset,l&&(d=(l-1)*n),f={$limit:n,$offset:d},o.length>0){for(h={},i=0;i<o.length;i++)v=o[i],m=c[i]?1:-1,h[v]=m;f.$sort=h}return t.offset=d,t.limit=n,r.next=13,t.$service(t.service).find(f);case 13:x=r.sent,_=x.rows,y=x.total,t.$nextTick((function(){_&&y?(t.rows=_,t.total=y):(t.rows=[],t.total=0),t.$nextTick((function(){t.loading=!1}))}));case 17:case"end":return r.stop()}}),r)})))()},remove:function(){var e=this;return Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$service(e.service).remove(e.selected);case 3:e.$nextTick(Object(v.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$toast.success("Item Deleted"),t.next=3,e.fetch();case 3:e.showDeleteModal=!1;case 4:case"end":return t.stop()}}),t)}))));case 4:case"end":return t.stop()}}),t)})))()},showDeleteDialog:function(e){var t=this,r=e.id;this.selected=r,this.$nextTick((function(){t.showDeleteModal=!0}))}}}),x=m,_=(r(485),r(88)),component=Object(_.a)(x,(function(){var e=this,t=e._self._c;return t("div",[t(c.a,{staticClass:"data-table-custom",attrs:{dense:"",headers:e.header,items:e.rows,"items-per-page":10,"server-items-length":e.total,"footer-props":{itemsPerPageOptions:[10,20,50,100,-1]},"loading-text":"Loading... Please wait",loading:e.loading,"hide-default-header":"","calculate-widths":""},on:{"update:options":e.fetch},scopedSlots:e._u([{key:"header",fn:function(r){var n=r.props,l=n.headers,o=n.options,c=o.sortBy,d=o.sortDesc,f=r.on;return[t("thead",{staticClass:"v-data-table-header"},[t("tr",e._l(l,(function(r,n){var l=r.value,text=r.text,o=r.sortable,v=r.align,m=r.width,x=r.maxWidth;return t("th",{key:l+n,staticClass:"custom-th",class:{sortable:!1!==o,"text-left":"left"!==v||"right"!==v,"text-center":"center"===v,"text-right":"right"===v},style:e.cellStyle(m,x),on:{click:function(e){return e.preventDefault(),f.sort(l)}}},[t("div",{staticClass:"d-flex"},[text?t("span",{attrs:{"sort-by":c,"sort-desc":d}},[e._v("\n                "+e._s(text)+"\n              ")]):e._e(),e._v(" "),!1!==o?[t(h.a,{staticClass:"ml-1",attrs:{small:"",color:e.sortIcon(l,c[0],d[0]).includes("mdi-arrow-")?"secondary":"grey"}},[e._v("\n                  "+e._s(e.sortIcon(l,c[0],d[0]))+"\n                ")])]:e._e()],2)])})),0)])]}},{key:"item",fn:function(r){var l=r.item,head=r.headers,o=r.index;return[t("tr",{staticClass:"custom-row"},[e._l(head,(function(r,c){return["delete"!==r.value?t("td",{key:o+"-"+c,staticClass:"py-1 custom-cell",class:{"text-left":"center"!==r.align||"right"!==r.align,"text-center":"center"===r.align,"text-right":"right"===r.align},staticStyle:{cursor:"pointer"},style:e.cellStyle(r.width,r.maxWidth),on:{click:function(t){return t.preventDefault(),e.goto(l.id)}}},[e._t("col-"+r.value,(function(){return[e._v("\n              "+e._s(l[r.value])+"\n            ")]}),null,{item:l,value:l[r.value],index:o})],2):e._e(),e._v(" "),"delete"===r.value?t("td",{key:o+"-"+c},[t(n.a,{staticClass:"py-1 custom-cell table-delete-item",attrs:{tile:"",color:"error"},on:{click:function(t){return t.preventDefault(),e.showDeleteDialog(l)}}},[t(h.a,[e._v("mdi-delete")])],1)],1):e._e()]}))],2)]}}],null,!0)}),e._v(" "),t(d.a,{attrs:{width:"512"},model:{value:e.showDeleteModal,callback:function(t){e.showDeleteModal=t},expression:"showDeleteModal"}},[t(l.a,{attrs:{tile:""}},[t(o.d,{staticClass:"error--text h2 my-0 py-1"},[e._v("\n        Delete Item\n      ")]),e._v(" "),t(f.a),e._v(" "),t(o.c,{staticClass:"text-center pt-3"},[t("strong",[e._v(" Are you sure you want to delete this item? ")])]),e._v(" "),t(o.a,{staticClass:"pa-0 d-flex flex-row"},[t(n.a,{staticClass:"ma-0 py-4",staticStyle:{width:"50%"},attrs:{tile:"",color:"success"},on:{click:function(t){t.preventDefault(),e.showDeleteModal=!1}}},[e._v("\n          cancel\n        ")]),e._v(" "),t(n.a,{staticClass:"ma-0 py-4",staticStyle:{width:"50%"},attrs:{tile:"",color:"error"},on:{click:function(t){return t.preventDefault(),e.remove.apply(null,arguments)}}},[e._v("\n          delete\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},493:function(e,t,r){"use strict";r.r(t);var n=r(426),l=r(521),o=r(441),c=r(471),d=r(422),f=r(435),h={props:{title:{type:String,default:null},subText:{type:String,default:null},createLink:{type:String,default:null},editLink:{type:String,default:null},deleteLink:{type:String,default:null}}},v=r(88),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t(l.a,{staticClass:"my-3 mx-6",attrs:{tile:"",elevation:"2"}},[t(o.d,[t("span",{staticClass:"primary--text"},[e._v(" "+e._s(e.title)+" ")]),e._v(" "),t(f.a),e._v(" "),e.createLink?t(n.a,{attrs:{to:e.createLink,tile:"",color:"primary"}},[e._v("\n      Create\n      "),t(d.a,{staticClass:"ml-1"},[e._v("mdi-plus-thick")])],1):e._e()],1),e._v(" "),e.subText?t(o.b,[e._v("\n    "+e._s(e.subText)+"\n  ")]):e._e(),e._v(" "),t(c.a),e._v(" "),t(o.c,[e._t("default")],2)],1)}),[],!1,null,null,null);t.default=component.exports},608:function(e,t,r){"use strict";r.r(t);var n={name:"SpellListPage",data:function(){return{headers:[{text:"Name",value:"name"},{text:"Level",value:"level"},{text:"School ",value:"school"},{text:"Description",value:"description",sortable:!1,maxWidth:500}]}}},l=r(88),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("data-table-screen",{attrs:{title:"Spells","create-link":"/spell/create"}},[t("data-table",{attrs:{headers:e.headers,service:"spell",update:"/spell"},scopedSlots:e._u([{key:"col-description",fn:function(r){var n=r.value;return[t("div",{domProps:{innerHTML:e._s(n)}})]}}])})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{DataTable:r(492).default,DataTableScreen:r(493).default})}}]);